<!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
<h5>Retails for $3.25</h5>

<% @cards.each_slice(3) do |slice| %>
  <div class="row col s12 center-align">
    <% slice.each do |card| %>
      <div id="card" class="col s12 m4 no-padding center-align" style="margin: 0 auto; cursor: pointer">
        <div class="row col s12">
          <div class="row valign-wrapper">
            <div class="col s1 valign-wrapper">
              <a>
                <i class="material-icons"><h3 class="hidden previous">skip_previous<h3></i>
              </a>
            </div>
            <div class="col s9 center-align">
              <%= image_tag card.front_image.url(:large), :class => 'border responsive-img front-image materialboxed' %>
              <%= image_tag card.inside_image(:large), :class => 'border hidden responsive-img inside-image materialboxed' %>
            </div>
            <div class="col s1 valign-wrapper no-padding">
              <a>
                <i class="material-icons"><h3 class="next no-padding">skip_next</h3></i>
              </a>
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <h5 class="oswald"><%= card.code %></h5>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>

<script>
  $(document).ready(function(){
    $('.next').click(function(){
      $(this).attr('class', 'next hidden')
      var cardDiv = $(this).parent().parent().parent().parent().parent();
      cardDiv.find('.previous').attr('class', 'previous')
      cardDiv.find('.front-image').attr('class', 'hidden responsive-img front-image materialboxed')
      cardDiv.find('.inside-image').attr('class', 'border responsive-img inside-image materialboxed')
    })

    $('.previous').click(function(){
      $(this).attr('class', 'previous hidden')
      var cardDiv = $(this).parent().parent().parent().parent().parent();
      cardDiv.find('.next').attr('class', 'next')
      cardDiv.find('.inside-image').attr('class', 'hidden responsive-img inside-image materialboxed')
      cardDiv.find('.front-image').attr('class', 'border responsive-img front-image materialboxed')
    })
  })
</script>
